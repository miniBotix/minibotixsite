<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PCB Final Quiz | miniBotix</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fce8c6;
      color: #333;
    }

    header {
      background-color: #4e2e1e;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    .container {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #4e2e1e;
    }

    .quiz-section {
      margin-bottom: 2rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
    }

    .btn {
      padding: 0.6rem 1.2rem;
      background: #4e2e1e;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin: 1rem 0.5rem 0 0;
    }

    .btn:hover {
      background: #603a25;
    }

    #popup-bg {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100vw;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
    }

    #popup {
      background: white;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      position: fixed;
      top: 5%;
      left: 50%;
      transform: translateX(-50%);
      padding: 2rem;
      border-radius: 10px;
      z-index: 1000;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }

    #popup img {
      width: 100%;
      max-width: 100%;
      margin-bottom: 1rem;
    }

    #popup h3 {
      margin-top: 1.5rem;
    }

    #popup .popup-footer {
      margin-top: 2rem;
      text-align: center;
    }

    #popup .popup-footer button {
      position: sticky;
      bottom: 0;
      background: #4e2e1e;
      color: white;
      padding: 0.7rem 2rem;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    #result {
      margin-top: 1rem;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .nav-btns {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .nav-btns a {
      background: #4e2e1e;
      color: white;
      padding: 0.7rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>üß™ Final PCB Quiz (Test Your Knowledge)</h1>
  </header>

  <div class="container">
    <h2>üìù Answer All 15 Questions</h2>
    <p>Choose the correct answers based on your course lessons.</p>

    <div class="quiz-section" id="quizContainer"></div>

    <button class="btn" onclick="submitQuiz()">‚úÖ Submit Answers</button>
    <div id="result"></div>
  </div>

  <!-- POPUP -->
  <div id="popup-bg">
    <div id="popup">
      <img src="speed_controller.png" alt="Speed Controller" />
      <h2>üåÄ Speed Controller Circuit Explanation</h2>
      <p>This AC circuit controls fan or motor speed using a DIAC-TRIAC triggering method. The variable resistor adjusts the capacitor charging time, which changes the point at which the TRIAC turns on, thereby controlling power.</p>

      <h3>üîß Components:</h3>
      <ul>
        <li><b>M1</b>: AC Motor or Fan</li>
        <li><b>T1</b>: TRIAC ‚Äì Switches AC load</li>
        <li><b>D1</b>: DIAC ‚Äì Helps in triggering TRIAC</li>
        <li><b>R1</b>: Variable Resistor ‚Äì Controls speed</li>
        <li><b>R2</b>: Fixed Resistor</li>
        <li><b>C1</b>: Capacitor for delay control</li>
      </ul>

      <h3>üéØ Quick Questions:</h3>
      <p><b>1. What is the main use of DIAC in this circuit?</b></p>
      <label><input type="radio" name="q1" value="b"> It helps trigger the TRIAC at the right voltage</label><br>
      <label><input type="radio" name="q1" value="a"> It powers the fan directly</label>

      <p><b>2. What does the variable resistor control?</b></p>
      <label><input type="radio" name="q2" value="b"> It adjusts the charging time of the capacitor</label><br>
      <label><input type="radio" name="q2" value="a"> It limits AC current</label>

      <p><b>3. Why is the capacitor important here?</b></p>
      <label><input type="radio" name="q3" value="b"> It controls the delay for triggering the TRIAC</label><br>
      <label><input type="radio" name="q3" value="a"> It stores AC current</label>

      <div class="popup-footer">
        <button onclick="finishPopup()">üéâ Finish Test</button>
      </div>
    </div>
  </div>

  <div class="container nav-btns">
    <a href="schematic_to_pcb.html">‚¨ÖÔ∏è Previous</a>
    <a href="pcb_project.html">Next ‚û°Ô∏è</a>
  </div>

  <script>
    const questions = [
      {
        q: "1. What is a PCB used for?",
        options: ["Power generation", "Connecting and holding electronic components", "Painting", "Packaging"],
        answer: "Connecting and holding electronic components"
      },
      {
        q: "2. Which software allows PCB circuit simulation and 3D view?",
        options: ["AutoCAD", "EasyEDA", "Excel", "Photoshop"],
        answer: "EasyEDA"
      },
      {
        q: "3. What does a resistor do?",
        options: ["Stores energy", "Converts AC to DC", "Limits current", "Increases voltage"],
        answer: "Limits current"
      },
      {
        q: "4. Which is a passive component?",
        options: ["Transistor", "IC", "Capacitor", "Microcontroller"],
        answer: "Capacitor"
      },
      {
        q: "5. Why is GND important in a circuit?",
        options: ["To heat up components", "It provides current", "It completes the circuit loop", "It powers motors"],
        answer: "It completes the circuit loop"
      },
      {
        q: "6. What is the function of LED?",
        options: ["Store data", "Emit light", "Control speed", "None"],
        answer: "Emit light"
      },
      {
        q: "7. In rain detector circuit, what triggers the transistor?",
        options: ["Light", "Rainwater conductivity", "Heat", "Sound"],
        answer: "Rainwater conductivity"
      },
      {
        q: "8. What is AMS1117 used for?",
        options: ["Sound control", "Voltage regulation", "Data transfer", "Capacitance boost"],
        answer: "Voltage regulation"
      },
      {
        q: "9. Which tool is used to wire components in EasyEDA?",
        options: ["W", "R", "M", "E"],
        answer: "W"
      },
      {
        q: "10. Which symbol represents ground?",
        options: ["Triangle", "3 horizontal lines", "Arrow", "Square"],
        answer: "3 horizontal lines"
      },
      {
        q: "11. Shortcut key to rotate a component?",
        options: ["R", "T", "Ctrl", "Z"],
        answer: "R"
      },
      {
        q: "12. What file is exported to manufacture PCBs?",
        options: [".png", ".mp4", ".gerber", ".html"],
        answer: ".gerber"
      },
      {
        q: "13. Which one is used for simulation in EasyEDA?",
        options: ["Debugger", "Simulator", "NetTool", "Breadboard"],
        answer: "Simulator"
      },
      {
        q: "14. What is the voltage drop across red LED?",
        options: ["0V", "2V", "5V", "12V"],
        answer: "2V"
      },
      {
        q: "15. What‚Äôs the use of capacitor near IC?",
        options: ["Store current", "Remove noise", "Boost voltage", "Heat sink"],
        answer: "Remove noise"
      }
    ];

    const quizContainer = document.getElementById("quizContainer");
    questions.forEach((item, i) => {
      const div = document.createElement("div");
      div.innerHTML = `
        <p>${item.q}</p>
        ${item.options.map(opt =>
          `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label>`
        ).join("")}
        <br><br>
      `;
      quizContainer.appendChild(div);
    });

    function submitQuiz() {
      let score = 0;
      questions.forEach((item, i) => {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected && selected.value === item.answer) {
          score++;
        }
      });
      localStorage.setItem("baseScore", score);
      document.getElementById("popup-bg").style.display = "block";
      window.scrollTo(0, 0);
    }

    function finishPopup() {
      const q1 = document.querySelector('input[name="q1"]:checked')?.value;
      const q2 = document.querySelector('input[name="q2"]:checked')?.value;
      const q3 = document.querySelector('input[name="q3"]:checked')?.value;

      let extra = 0;
      if (q1 === "b") extra++;
      if (q2 === "b") extra++;
      if (q3 === "b") extra++;

      const base = parseInt(localStorage.getItem("baseScore")) || 0;
      const finalScore = base + Math.round((extra / 3) * 5);
      const message = finalScore >= 18
        ? "üåü Excellent! Keep it up!"
        : finalScore >= 12
          ? "üëç Good! Try again for full score!"
          : "üôÅ Keep practicing and try again!";

      document.getElementById("popup-bg").style.display = "none";
      document.getElementById("result").innerHTML = `‚úÖ Final Score: ${finalScore}/20<br>${message}`;
    }
  </script>
</body>
</html>
