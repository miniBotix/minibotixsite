<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Courses ¬∑ MiniBotix</title>
<link rel="icon" href="file.svg" type="image/svg+xml">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#030912;--bg1:#060e1c;--bg2:#0a1628;--bg3:#0d1e35;
  --line:rgba(0,160,255,0.08);--line-hi:rgba(0,180,255,0.2);
  --c:#00b4ff;--c2:#0052cc;--cg:#00ffa3;--co:#ff8c42;--cr:#ff4060;
  --cp:#b06fff;--cy:#ffe066;
  --txt:#daeeff;--txt2:#6b8fa8;
  --glow:0 0 40px rgba(0,160,255,0.14);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',system-ui,sans-serif;background:var(--bg);color:var(--txt);overflow-x:hidden;line-height:1.6}
a{color:inherit;text-decoration:none}
::selection{background:rgba(0,180,255,0.25)}
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--line-hi);border-radius:2px}

/* BG */
#rain{position:fixed;inset:0;z-index:0;pointer-events:none}
.gbg{position:fixed;inset:0;z-index:1;pointer-events:none;
  background-image:linear-gradient(var(--line)1px,transparent 1px),linear-gradient(90deg,var(--line)1px,transparent 1px);
  background-size:48px 48px;
  mask-image:radial-gradient(ellipse 90% 70% at 50% 0%,black 20%,transparent 100%)}
.rglow{position:fixed;top:-20%;left:50%;transform:translateX(-50%);width:1000px;height:700px;
  background:radial-gradient(ellipse at center,rgba(0,70,200,0.16)0%,transparent 70%);z-index:1;pointer-events:none}
header,main,footer,section,.page{position:relative;z-index:10}

/* NAVBAR */
header{position:fixed;top:0;left:0;right:0;height:62px;z-index:200;
  display:flex;align-items:center;justify-content:space-between;padding:0 28px;
  background:rgba(3,9,18,0.9);backdrop-filter:blur(18px) saturate(1.6);
  border-bottom:1px solid var(--line);transition:box-shadow .3s}
header.scrolled{box-shadow:0 4px 50px rgba(0,0,0,.7)}
.brand{display:flex;align-items:center;gap:11px;cursor:pointer;user-select:none}
.bm{width:34px;height:34px;border-radius:8px;background:linear-gradient(135deg,var(--c2),var(--c));
  display:flex;align-items:center;justify-content:center;
  font-family:'Syne',sans-serif;font-weight:800;font-size:15px;color:#fff;
  box-shadow:0 4px 18px rgba(0,120,255,0.4);flex-shrink:0}
.bn{font-family:'Syne',sans-serif;font-weight:700;font-size:17px;letter-spacing:-.01em}
.bn em{color:var(--c);font-style:normal}

nav.main-nav{display:flex;gap:1px}
nav.main-nav a{font-size:11.5px;font-weight:500;letter-spacing:.05em;text-transform:uppercase;
  color:var(--txt2);padding:6px 10px;border-radius:6px;transition:color .2s,background .2s;position:relative}
nav.main-nav a::after{content:'';position:absolute;bottom:2px;left:50%;transform:translateX(-50%);
  width:0;height:1.5px;background:var(--c);border-radius:1px;transition:width .25s}
nav.main-nav a:hover{color:var(--c);background:rgba(0,180,255,0.05)}
nav.main-nav a:hover::after{width:55%}
nav.main-nav a.active{color:var(--c)}
nav.main-nav a.active::after{width:55%}

.nr{display:flex;align-items:center;gap:12px}
.cpill{display:flex;align-items:center;gap:7px;background:var(--bg2);border:1px solid var(--line-hi);
  border-radius:999px;padding:5px 12px;cursor:default;user-select:none}
.pulse{width:6px;height:6px;border-radius:50%;background:var(--cg);flex-shrink:0;animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1;box-shadow:0 0 7px var(--cg)}50%{opacity:.25;box-shadow:none}}
.csw{width:22px;height:22px;flex-shrink:0}
#navClock{font-family:'DM Mono',monospace;font-size:11px;font-weight:500;color:var(--cg)}
.btn-o{background:transparent;border:1px solid var(--line-hi);padding:7px 14px;border-radius:7px;
  color:var(--txt2);font-family:'DM Sans',sans-serif;font-size:12px;font-weight:600;letter-spacing:.04em;cursor:pointer;transition:all .2s}
.btn-o:hover{border-color:var(--c);color:var(--c);background:rgba(0,180,255,0.05)}
.btn-s{background:linear-gradient(135deg,var(--c2),var(--c));border:none;padding:8px 16px;border-radius:7px;
  color:#fff;font-family:'DM Sans',sans-serif;font-size:12px;font-weight:700;letter-spacing:.04em;
  cursor:pointer;box-shadow:0 4px 18px rgba(0,100,255,0.35);transition:opacity .2s,transform .15s}
.btn-s:hover{opacity:.88;transform:translateY(-1px)}
.ham{display:none;width:40px;height:40px;border:1px solid var(--line);border-radius:7px;
  background:transparent;cursor:pointer;flex-direction:column;align-items:center;justify-content:center;gap:5px}
.ham span{width:18px;height:1.5px;background:var(--txt2);border-radius:1px;display:block}
#sui{display:none}
.apill{display:flex;align-items:center;gap:8px;padding:5px 12px 5px 5px;background:var(--bg2);
  border:1px solid var(--line-hi);border-radius:999px;cursor:pointer;transition:background .2s}
.apill:hover{background:var(--bg3)}
.apill img{width:26px;height:26px;border-radius:50%;object-fit:cover}
.apill .aname{font-size:12px;font-weight:600}
.apill .gear{color:var(--txt2);font-size:13px;margin-left:3px}

#mobileNav{display:none;flex-direction:column;gap:2px;position:fixed;top:62px;left:0;right:0;
  background:rgba(4,10,20,0.98);backdrop-filter:blur(16px);
  border-bottom:1px solid var(--line);padding:12px 16px 20px;z-index:190}
#mobileNav.open{display:flex}
#mobileNav a{padding:11px 12px;border-radius:7px;font-size:13px;font-weight:500;
  color:var(--txt2);border-left:2px solid transparent;transition:all .2s}
#mobileNav a:hover{background:var(--bg2);color:var(--c);border-left-color:var(--c)}

/* PAGE HERO */
.page-hero{padding:120px 28px 72px}
.page-hero .con{max-width:1140px;margin:0 auto}
.htag{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line-hi);border-radius:4px;
  padding:5px 12px;margin-bottom:28px;font-family:'DM Mono',monospace;font-size:10px;
  letter-spacing:.12em;text-transform:uppercase;color:var(--c);background:rgba(0,180,255,0.04)}
.htag .hd{width:5px;height:5px;border-radius:50%;background:var(--cg);animation:blink 1.8s infinite}
.page-hero h1{font-family:'Syne',sans-serif;font-weight:800;font-size:clamp(38px,5vw,60px);
  letter-spacing:-.03em;line-height:1.05;margin-bottom:16px}
.page-hero h1 .acc{background:linear-gradient(90deg,var(--cy),var(--co));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.page-hero p{color:var(--txt2);font-size:15px;line-height:1.72;max-width:560px;margin-bottom:28px}

/* SEARCH BAR in hero */
.hero-search{display:flex;gap:10px;align-items:center;max-width:680px}
.hs-input{flex:1;padding:13px 18px;background:var(--bg2);border:1px solid var(--line-hi);
  border-radius:9px;color:var(--txt);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;
  transition:border-color .2s,box-shadow .2s}
.hs-input::placeholder{color:var(--txt2)}
.hs-input:focus{border-color:var(--cy);box-shadow:0 0 0 3px rgba(255,224,102,0.08)}
.hs-btn{padding:13px 22px;background:linear-gradient(135deg,#7d5000,var(--cy));border:none;
  border-radius:9px;color:#1a0d00;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:700;
  letter-spacing:.04em;cursor:pointer;box-shadow:0 4px 18px rgba(255,224,102,0.2);
  transition:opacity .2s,transform .15s;white-space:nowrap;flex-shrink:0}
.hs-btn:hover{opacity:.88;transform:translateY(-1px)}
.search-tip{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:.06em;color:var(--txt2);margin-top:10px}

/* SEP */
.sep{height:1px;background:linear-gradient(90deg,transparent,var(--line-hi),transparent)}

/* SECTION */
.section{padding:80px 28px}
.con{max-width:1140px;margin:0 auto}
.sl2{display:inline-flex;align-items:center;gap:7px;
  font-family:'DM Mono',monospace;font-size:9px;letter-spacing:.14em;text-transform:uppercase;
  color:var(--c);border:1px solid var(--line-hi);padding:4px 10px;border-radius:3px;
  background:rgba(0,180,255,0.04);margin-bottom:16px}
.sn{color:var(--txt2)}
h2.sh{font-family:'Syne',sans-serif;font-weight:800;font-size:clamp(24px,3vw,36px);
  letter-spacing:-.02em;margin-bottom:10px}
.lead{color:var(--txt2);font-size:15px;line-height:1.72;margin-bottom:36px}

/* TOP COURSES GRID (featured ‚Äî wider) */
.top-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;margin-bottom:72px}

/* ALL COURSES GRID */
.all-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}

/* COURSE CARD */
.course-card{
  background:var(--bg2);border:1px solid var(--line);border-radius:14px;
  overflow:hidden;transition:transform .3s,border-color .3s,box-shadow .3s;
  position:relative;display:flex;flex-direction:column;
}
.course-card:hover{transform:translateY(-6px);border-color:var(--line-hi);box-shadow:var(--glow)}
.course-card::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,#7d5000,var(--cy));
  transform:scaleX(0);transform-origin:left;
  transition:transform .35s cubic-bezier(.4,0,.2,1);z-index:2;
}
.course-card:hover::before{transform:scaleX(1)}

/* TOP badge variant */
.course-card.is-top::before{background:linear-gradient(90deg,var(--co),var(--cy))}

/* HIGHLIGHT animation for search result */
.course-card.highlight{
  border-color:var(--cy);box-shadow:0 0 0 2px rgba(255,224,102,0.25),0 20px 50px rgba(255,224,102,0.08);
  animation:cardGlow 2.4s ease-in-out;
}
@keyframes cardGlow{
  0%{box-shadow:0 0 0 2px rgba(255,224,102,0);transform:translateY(0)}
  25%{box-shadow:0 0 0 2px rgba(255,224,102,0.3),0 20px 50px rgba(255,224,102,0.14);transform:translateY(-4px)}
  100%{box-shadow:0 0 0 2px rgba(255,224,102,0);transform:translateY(0)}
}

.cc-thumb{height:160px;background:var(--bg1);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
.cc-thumb img{width:100%;height:100%;object-fit:cover;transition:transform .4s}
.course-card:hover .cc-thumb img{transform:scale(1.05)}
.cc-placeholder{font-size:48px;opacity:.25}

.cc-top-badge{position:absolute;top:10px;right:10px;z-index:3;
  font-family:'DM Mono',monospace;font-size:8px;letter-spacing:.1em;text-transform:uppercase;
  padding:4px 8px;border-radius:3px;background:linear-gradient(135deg,var(--co),var(--cy));
  color:#1a0800;font-weight:700}

.cc-body{padding:20px 22px;flex:1;display:flex;flex-direction:column;gap:6px}
.cc-name{font-family:'Syne',sans-serif;font-weight:700;font-size:16px;line-height:1.3}
.cc-desc{font-size:13px;color:var(--txt2);line-height:1.65;flex:1}

.cc-footer{display:flex;gap:8px;padding:14px 22px;border-top:1px solid var(--line);background:rgba(0,0,0,0.15)}
.btn-preview{flex:1;padding:9px 14px;background:transparent;border:1px solid var(--line-hi);
  border-radius:7px;color:var(--txt2);font-family:'DM Sans',sans-serif;font-size:12px;font-weight:600;
  cursor:pointer;transition:all .2s;text-align:center}
.btn-preview:hover{border-color:var(--cy);color:var(--cy);background:rgba(255,224,102,0.04)}
.btn-start{flex:1;padding:9px 14px;background:linear-gradient(135deg,#7d5000,var(--cy));
  border:none;border-radius:7px;color:#1a0800;font-family:'DM Sans',sans-serif;font-size:12px;
  font-weight:700;letter-spacing:.04em;cursor:pointer;
  box-shadow:0 4px 14px rgba(255,224,102,0.15);transition:opacity .2s,transform .15s;text-align:center}
.btn-start:hover{opacity:.88;transform:translateY(-1px)}

/* PREVIEW MODAL */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.8);z-index:500;backdrop-filter:blur(10px)}
.modal.open{display:flex}
.mc{width:100%;max-width:480px;background:var(--bg2);border:1px solid var(--line-hi);
  border-radius:14px;overflow:hidden;animation:sUp .3s ease}
@keyframes sUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.mc-head{display:flex;align-items:center;justify-content:space-between;
  padding:20px 24px;border-bottom:1px solid var(--line)}
.mc-head h3{font-family:'Syne',sans-serif;font-weight:700;font-size:18px}
.mcc{color:var(--txt2);font-size:22px;cursor:pointer;line-height:1;transition:color .2s;background:none;border:none}
.mcc:hover{color:#fff}
.mc-body{padding:24px}

/* PREVIEW CONTENT */
.prev-thumb{width:100%;height:180px;border-radius:10px;background:var(--bg1);
  display:flex;align-items:center;justify-content:center;overflow:hidden;margin-bottom:18px}
.prev-thumb img{width:100%;height:100%;object-fit:cover}
.prev-name{font-family:'Syne',sans-serif;font-weight:700;font-size:20px;margin-bottom:8px}
.prev-desc{font-size:13px;color:var(--txt2);line-height:1.72;margin-bottom:20px}
.prev-page{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:.08em;color:var(--txt2);
  padding:8px 12px;background:var(--bg1);border-radius:6px;border:1px solid var(--line);margin-bottom:20px}
.mc-foot{display:flex;gap:10px;padding:16px 24px;border-top:1px solid var(--line);background:rgba(0,0,0,0.15)}

/* AUTH MODAL */
.tabs{display:flex;gap:4px;background:var(--bg1);border-radius:8px;padding:4px;margin-bottom:20px}
.tab{flex:1;padding:8px;border-radius:6px;border:none;background:transparent;color:var(--txt2);
  font-family:'DM Sans',sans-serif;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}
.tab.on{background:linear-gradient(135deg,var(--c2),var(--c));color:#fff;box-shadow:0 2px 14px rgba(0,100,255,0.3)}
.fg{margin-bottom:14px}
.fg label{display:block;font-family:'DM Mono',monospace;font-size:10px;letter-spacing:.08em;
  text-transform:uppercase;color:var(--txt2);margin-bottom:6px}
.fg input{width:100%;padding:11px 14px;background:var(--bg1);border:1px solid var(--line-hi);
  border-radius:7px;color:var(--txt);font-family:'DM Sans',sans-serif;font-size:13px;outline:none;
  transition:border-color .2s,box-shadow .2s}
.fg input:focus{border-color:var(--c);box-shadow:0 0 0 3px rgba(0,180,255,0.08)}
.ma{display:flex;gap:10px;margin-top:20px}
.ma .btn-s{flex:1;padding:11px}
.ma .btn-o{padding:11px 16px;font-size:13px}
.mnote{font-size:11px;color:var(--txt2);margin-top:12px}

/* TOAST */
.toast{position:fixed;bottom:28px;left:50%;transform:translateX(-50%);padding:11px 18px;
  border-radius:8px;font-size:13px;font-weight:500;z-index:9999;box-shadow:0 8px 30px rgba(0,0,0,.5);
  animation:toastIn .3s ease}
@keyframes toastIn{from{opacity:0;transform:translateX(-50%) translateY(10px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}

/* EMPTY */
.empty-state{text-align:center;padding:64px 28px;color:var(--txt2)}
.empty-state .ei{font-size:52px;margin-bottom:16px;opacity:.4}

/* FOOTER */
footer{padding:26px 28px;border-top:1px solid var(--line);
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px}
.finfo{font-family:'DM Mono',monospace;font-size:11px;color:var(--txt2)}
.flinks{display:flex;gap:18px;font-size:12px;color:var(--txt2)}
.flinks a:hover{color:var(--c)}

/* REVEAL */
.reveal{opacity:0;transform:translateY(30px);transition:opacity .75s ease,transform .75s ease}
.reveal.in{opacity:1;transform:translateY(0)}
.d1{transition-delay:.1s}.d2{transition-delay:.18s}.d3{transition-delay:.26s}.d4{transition-delay:.34s}

/* RESPONSIVE */
@media(max-width:1020px){nav.main-nav{display:none}.ham{display:flex}}
@media(max-width:640px){header{padding:0 16px}.section{padding:56px 16px}.page-hero{padding:100px 16px 56px}.top-grid,.all-grid{grid-template-columns:1fr}.hero-search{flex-direction:column;align-items:stretch}.hs-btn{text-align:center}footer{flex-direction:column;align-items:flex-start}}
</style>
</head>
<body>

<canvas id="rain"></canvas>
<div class="gbg"></div>
<div class="rglow"></div>

<!-- NAVBAR -->
<header id="hdr">
  <div class="brand" onclick="location.href='index.html'">
    <div class="bm">M</div>
    <div class="bn">Mini<em>Botix</em></div>
  </div>

  <nav class="main-nav">
    <a href="index.html">Home</a>
    <a href="courses.html" class="active">Courses</a>
    <a href="products.html">Products</a>
    <a href="componentshop.html">Components</a>
    <a href="projects.html">Projects</a>
    <a href="apps.html">Apps</a>
    <a href="about_us.html">About</a>
    <a href="index.html#contact">Contact</a>
  </nav>

  <div class="nr">
    <div class="cpill">
      <div class="pulse"></div>
      <div class="csw">
        <svg viewBox="0 0 44 44" fill="none">
          <circle cx="22" cy="22" r="19" stroke="rgba(0,180,255,0.18)" stroke-width="1.5"/>
          <circle cx="22" cy="22" r="1.5" fill="var(--cg)"/>
          <line id="nh" x1="22" y1="22" x2="22" y2="12" stroke="var(--txt)" stroke-width="2" stroke-linecap="round"/>
          <line id="nm" x1="22" y1="22" x2="22" y2="9"  stroke="var(--c)"  stroke-width="1.2" stroke-linecap="round"/>
          <line id="ns" x1="22" y1="22" x2="22" y2="6"  stroke="var(--cg)" stroke-width="0.8" stroke-linecap="round"/>
        </svg>
      </div>
      <span id="navClock">00:00:00</span>
    </div>
    <div id="sou"><button class="btn-o" id="openAuth">Sign In</button></div>
    <div id="sui">
      <div class="apill" id="openPS">
        <img id="pAvatar" src="file.svg" alt="">
        <span class="aname" id="pName">User</span>
        <span class="gear">‚öô</span>
      </div>
    </div>
    <button class="ham" id="hamBtn" aria-label="Menu"><span></span><span></span><span></span></button>
  </div>
</header>

<div id="mobileNav">
  <a href="index.html" onclick="closeM()">Home</a>
  <a href="courses.html" onclick="closeM()">Courses</a>
  <a href="products.html" onclick="closeM()">Products</a>
  <a href="componentshop.html" onclick="closeM()">Components</a>
  <a href="projects.html" onclick="closeM()">Projects</a>
  <a href="apps.html" onclick="closeM()">Apps</a>
  <a href="about_us.html" onclick="closeM()">About</a>
  <a href="index.html#contact" onclick="closeM()">Contact</a>
</div>

<!-- PAGE HERO -->
<div class="page-hero reveal">
  <div class="con">
    <div class="htag"><span class="hd"></span> MiniBotix ¬∑ Learning</div>
    <h1>Learn &<br><span class="acc">Build</span></h1>
    <p>Browse our curated courses on robotics, agriculture tech, electronics and embedded systems. Find your course and start building today.</p>
    <div class="hero-search">
      <input id="searchInput" class="hs-input" placeholder="Search courses by name or topic‚Ä¶" aria-label="Search courses">
      <button id="searchBtn" class="hs-btn">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="currentColor" style="display:inline;vertical-align:middle;margin-right:5px"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        Search
      </button>
    </div>
    <div class="search-tip">Press Enter or click Search ¬∑ Click "Preview" for details ¬∑ Click "Start" to open the course</div>
  </div>
</div>

<div class="sep"></div>

<!-- TOP COURSES -->
<section class="section" id="coursesSection">
  <div class="con">
    <div class="reveal">
      <div class="sl2"><span class="sn">01 /</span> Featured</div>
      <h2 class="sh">Top Courses</h2>
      <p class="lead">Our most popular and recommended picks ‚Äî curated for you.</p>
    </div>
    <div class="top-grid reveal d2" id="topCourses">
      <div class="empty-state"><div class="ei">üìö</div><p>Loading courses‚Ä¶</p></div>
    </div>

    <div class="reveal d3">
      <div class="sl2"><span class="sn">02 /</span> All Courses</div>
      <h2 class="sh">All Courses</h2>
      <p class="lead">Every available course on the MiniBotix platform.</p>
    </div>
    <div class="all-grid reveal d4" id="coursesGrid"></div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div style="display:flex;align-items:center;gap:10px">
    <div class="bm" style="width:28px;height:28px;font-size:12px;border-radius:6px">M</div>
    <div class="finfo">¬© 2025 MiniBotix ¬∑ Learn ¬∑ Build ¬∑ Innovate</div>
  </div>
  <div class="flinks">
    <a href="index.html">Home</a>
    <a href="courses.html">Courses</a>
    <a href="products.html">Products</a>
    <a href="projects.html">Projects</a>
    <a href="index.html#contact">Contact</a>
  </div>
</footer>

<!-- PREVIEW MODAL -->
<div id="previewModal" class="modal">
  <div class="mc" style="max-width:480px">
    <div class="mc-head">
      <h3 id="prevTitle">Course Preview</h3>
      <button class="mcc" id="prevClose">√ó</button>
    </div>
    <div class="mc-body">
      <div class="prev-thumb"><img id="prevImg" src="" alt=""></div>
      <div class="prev-name" id="prevName"></div>
      <div class="prev-desc" id="prevDesc"></div>
      <div class="prev-page" id="prevPage"></div>
    </div>
    <div class="mc-foot">
      <button class="btn-o" id="prevClose2" style="padding:11px 18px">‚Üê Back</button>
      <button class="btn-start" id="prevStart" style="flex:1;padding:11px">Start Course ‚Üí</button>
    </div>
  </div>
</div>

<!-- AUTH MODAL -->
<div id="authModal" class="modal">
  <div class="mc">
    <div class="mc-head"><h3>Access MiniBotix</h3><button class="mcc" id="authClose">√ó</button></div>
    <div class="mc-body">
      <div class="tabs">
        <button class="tab on" id="tabEmail">Email</button>
        <button class="tab" id="tabGoogle">Google</button>
      </div>
      <div id="emailView">
        <div id="loginView">
          <div class="fg"><label>Email</label><input id="loginEmail" type="email" placeholder="you@domain.com"></div>
          <div class="fg"><label>Password</label><input id="loginPassword" type="password" placeholder="Password"></div>
          <div class="ma"><button class="btn-s" id="emailSignIn">Sign In</button><button class="btn-o" id="showRegister">Register</button></div>
        </div>
        <div id="registerView" style="display:none">
          <div class="fg"><label>Full Name</label><input id="regName" type="text" placeholder="Your name"></div>
          <div class="fg"><label>Phone</label><input id="regPhone" type="tel" placeholder="+91 9XXXXXXXXX"></div>
          <div class="fg"><label>Email</label><input id="regEmail" type="email" placeholder="you@domain.com"></div>
          <div class="fg"><label>Password</label><input id="regPass" type="password" placeholder="Min 6 characters"></div>
          <div class="fg"><label>Confirm</label><input id="regPass2" type="password" placeholder="Confirm password"></div>
          <div class="ma"><button class="btn-s" id="createAccount">Create Account</button><button class="btn-o" id="showLogin">Sign In</button></div>
        </div>
      </div>
      <div id="googleView" style="display:none;padding-top:8px">
        <button id="googleSignIn" class="btn-s" style="width:100%;padding:13px;font-size:14px;display:flex;align-items:center;justify-content:center;gap:10px">
          <svg width="16" height="16" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.6 20.1H42V20H24v8h11.3C33.6 32.7 29.2 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3.1 0 5.9 1.1 8 3l5.7-5.7C34.5 6.5 29.5 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.6-.4-3.9z"/><path fill="#FF3D00" d="M6.3 14.7l6.6 4.8C14.6 16.1 19 13 24 13c3.1 0 5.9 1.1 8 3l5.7-5.7C34.5 6.5 29.5 4 24 4 16.3 4 9.7 8.3 6.3 14.7z"/><path fill="#4CAF50" d="M24 44c5.2 0 9.9-2 13.4-5.2l-6.2-5.2C29.2 35.3 26.7 36 24 36c-5.2 0-9.5-3.3-11.2-7.9L6.1 33.4C9.5 39.6 16.2 44 24 44z"/><path fill="#1976D2" d="M43.6 20.1H42V20H24v8h11.3c-.8 2.3-2.3 4.2-4.3 5.6l6.2 5.2C42.3 35.5 44 30.1 44 24c0-1.3-.1-2.6-.4-3.9z"/></svg>
          Continue with Google
        </button>
      </div>
      <p class="mnote">Your data is stored securely in Firestore.</p>
    </div>
  </div>
</div>

<!-- PROFILE MODAL -->
<div id="profileModal" class="modal">
  <div class="mc" style="max-width:420px">
    <div class="mc-head"><h3>Profile Settings</h3><button class="mcc" id="profileClose">√ó</button></div>
    <div class="mc-body">
      <div class="fg"><label>Name</label><input id="pfName" type="text"></div>
      <div class="fg"><label>Phone</label><input id="pfPhone" type="tel"></div>
      <div class="ma"><button class="btn-s" id="saveProfile">Save Changes</button><button class="btn-o" id="logoutBtn">Logout</button></div>
    </div>
  </div>
</div>

<script>
/* RAIN */
(function(){
  const cv=document.getElementById('rain'),ctx=cv.getContext('2d');
  let W,H,dr=[];
  function rs(){W=cv.width=innerWidth;H=cv.height=innerHeight;init()}
  function init(){dr=[];for(let i=0;i<180;i++){dr.push({x:Math.random()*W,y:Math.random()*H-H,len:Math.random()*35+10,sp:Math.random()*3.5+2,sw:Math.random()*1.2+0.3,a:0.04+Math.random()*0.09,drift:Math.random()*0.5-0.25,ph:Math.random()*Math.PI*2})}}
  function draw(){
    ctx.clearRect(0,0,W,H);
    dr.forEach(d=>{
      const g=ctx.createLinearGradient(d.x,d.y,d.x+d.drift*8,d.y+d.len);
      g.addColorStop(0,'rgba(0,180,255,0)');g.addColorStop(0.5,`rgba(0,190,255,${d.a})`);g.addColorStop(1,'rgba(100,220,255,0)');
      ctx.beginPath();ctx.strokeStyle=g;ctx.lineWidth=d.sw;
      ctx.moveTo(d.x,d.y);ctx.lineTo(d.x+d.drift*4,d.y+d.len);ctx.stroke();
      d.y+=d.sp;d.x+=Math.sin(d.y*0.012+d.ph)*0.4;
      if(d.y>H+50){d.y=-50;d.x=Math.random()*W}
      d.a=0.04+Math.random()*0.08;
    });
    requestAnimationFrame(draw);
  }
  window.addEventListener('resize',rs);rs();draw();
})();

/* CLOCK */
function rpt(cx,cy,ang,len){return{x:cx+Math.sin(ang)*len,y:cy-Math.cos(ang)*len}}
function setHand(id,ang,cx,cy,len){const el=document.getElementById(id);if(!el)return;const p=rpt(cx,cy,ang,len);el.setAttribute('x2',p.x.toFixed(2));el.setAttribute('y2',p.y.toFixed(2))}
function updateClock(){
  const n=new Date(),h=n.getHours(),m=n.getMinutes(),s=n.getSeconds(),ms=n.getMilliseconds();
  const sa=(s+ms/1000)*(Math.PI*2/60),ma=(m+s/60)*(Math.PI*2/60),ha=(h%12+m/60)*(Math.PI*2/12);
  setHand('nh',ha,22,22,10);setHand('nm',ma,22,22,13);setHand('ns',sa,22,22,15);
  const pad=v=>String(v).padStart(2,'0');
  document.getElementById('navClock').textContent=`${pad(h)}:${pad(m)}:${pad(s)}`;
}
setInterval(updateClock,80);updateClock();

/* SCROLL */
window.addEventListener('scroll',()=>document.getElementById('hdr').classList.toggle('scrolled',scrollY>40));
const io=new IntersectionObserver(en=>{en.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');io.unobserve(e.target)}})},{threshold:0.08});
document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

/* MOBILE NAV */
document.getElementById('hamBtn').addEventListener('click',()=>document.getElementById('mobileNav').classList.toggle('open'));
function closeM(){document.getElementById('mobileNav').classList.remove('open')}

/* TOAST */
function toast(msg,err){
  const t=document.createElement('div');t.className='toast';t.textContent=msg;
  t.style.background=err?'var(--cr)':'var(--cg)';t.style.color=err?'#fff':'#010e07';
  document.body.appendChild(t);
  setTimeout(()=>{t.style.transition='all .4s';t.style.opacity='0';t.style.transform='translateX(-50%) translateY(10px)'},2400);
  setTimeout(()=>t.remove(),2800);
}

function esc(s){return String(s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;')}

/* MODALS */
const AM=document.getElementById('authModal'),PM=document.getElementById('profileModal'),PV=document.getElementById('previewModal');
document.getElementById('openAuth').addEventListener('click',()=>AM.classList.add('open'));
document.getElementById('authClose').addEventListener('click',()=>AM.classList.remove('open'));
document.getElementById('profileClose').addEventListener('click',()=>PM.classList.remove('open'));
document.getElementById('openPS').addEventListener('click',()=>PM.classList.add('open'));
document.getElementById('prevClose').addEventListener('click',()=>PV.classList.remove('open'));
document.getElementById('prevClose2').addEventListener('click',()=>PV.classList.remove('open'));
window.addEventListener('click',e=>{[AM,PM,PV].forEach(m=>{if(e.target===m)m.classList.remove('open')})});
window.addEventListener('keydown',e=>{if(e.key==='Escape')[AM,PM,PV].forEach(m=>m.classList.remove('open'))});

/* AUTH TABS */
const tE=document.getElementById('tabEmail'),tG=document.getElementById('tabGoogle');
const eV=document.getElementById('emailView'),gV=document.getElementById('googleView');
tE.addEventListener('click',()=>{eV.style.display='block';gV.style.display='none';tE.classList.add('on');tG.classList.remove('on')});
tG.addEventListener('click',()=>{eV.style.display='none';gV.style.display='block';tG.classList.add('on');tE.classList.remove('on')});
document.getElementById('showRegister').addEventListener('click',()=>{document.getElementById('loginView').style.display='none';document.getElementById('registerView').style.display='block'});
document.getElementById('showLogin').addEventListener('click',()=>{document.getElementById('registerView').style.display='none';document.getElementById('loginView').style.display='block'});

/* ===== COURSES LOGIC ===== */
let courses=[], previewCourse=null;

async function loadCourses(){
  try{
    const res=await fetch('courses.json',{cache:'no-store'});
    if(!res.ok)throw new Error(res.status);
    const j=await res.json();
    courses=(Array.isArray(j)?j:[]).map((c,i)=>({
      id:c.id||('course_'+i),
      name:c.name||c.title||'Unnamed Course',
      description:c.description||'',
      image:c.image||'',
      top:!!c.top,
      page:c.page||(c.id?c.id+'.html':null)
    }));
  }catch(e){
    console.warn(e);
    toast('Failed to load courses.json',true);
    courses=[{id:'_err',name:'courses.json not found',description:'Ensure courses.json exists next to this HTML file.',image:'',top:false,page:null}];
  }
  renderAll();
}

function renderAll(){
  renderTopCourses();
  renderAllCourses();
}

function renderTopCourses(){
  const el=document.getElementById('topCourses');
  el.innerHTML='';
  const tops=courses.filter(c=>c.top).slice(0,4);
  const final=tops.length?tops:courses.slice(0,4);
  if(!final.length){el.innerHTML='<div class="empty-state"><div class="ei">üìö</div><p>No courses found.</p></div>';return}
  final.forEach(c=>el.appendChild(createCard(c,true)));
}

function renderAllCourses(){
  const el=document.getElementById('coursesGrid');
  el.innerHTML='';
  if(!courses.length){el.innerHTML='<div class="empty-state"><div class="ei">üìñ</div><p>No courses available.</p></div>';return}
  courses.forEach(c=>el.appendChild(createCard(c,false)));
}

function createCard(c,isTop){
  const el=document.createElement('div');
  el.className='course-card'+(isTop?' is-top':'');
  el.id='course_'+c.id;
  el.innerHTML=`
    <div class="cc-thumb">
      ${c.image
        ?`<img src="${esc(c.image)}" alt="${esc(c.name)}" onerror="this.parentNode.innerHTML='<span class=cc-placeholder>üìó</span>'">`
        :'<span class="cc-placeholder">üìó</span>'}
      ${(isTop||c.top)?'<div class="cc-top-badge">‚≠ê Top Pick</div>':''}
    </div>
    <div class="cc-body">
      <div class="cc-name">${esc(c.name)}</div>
      <div class="cc-desc">${esc(c.description)}</div>
    </div>
    <div class="cc-footer">
      <button class="btn-preview" data-id="${esc(c.id)}">Preview</button>
      <button class="btn-start" data-id="${esc(c.id)}">Start ‚Üí</button>
    </div>`;
  el.querySelector('.btn-preview').addEventListener('click',ev=>{ev.stopPropagation();openPreview(c.id)});
  el.querySelector('.btn-start').addEventListener('click',ev=>{ev.stopPropagation();startCourse(c)});
  return el;
}

function openPreview(id){
  const c=courses.find(x=>x.id===id);if(!c)return toast('Not found',true);
  previewCourse=c;
  document.getElementById('prevTitle').textContent='Course Preview';
  document.getElementById('prevName').textContent=c.name;
  document.getElementById('prevDesc').textContent=c.description||'No description available.';
  const img=document.getElementById('prevImg');
  if(c.image){img.src=c.image;img.alt=c.name;img.style.display='block'}
  else img.style.display='none';
  document.getElementById('prevPage').textContent='Page: '+(c.page||'Not configured');
  document.getElementById('prevStart').onclick=()=>{PV.classList.remove('open');startCourse(c)};
  PV.classList.add('open');
}

function startCourse(c){
  if(!c||!c.page){toast('Course page not configured',true);return}
  window.open(c.page,'_blank');
}

/* SEARCH */
function doSearch(q){
  const term=String(q||'').trim().toLowerCase();
  if(!term){toast('Type something to search',true);return}
  let found=courses.find(c=>(c.name||'').toLowerCase().includes(term));
  if(!found)found=courses.find(c=>(c.description||'').toLowerCase().includes(term));
  if(found){
    document.getElementById('coursesSection').scrollIntoView({behavior:'smooth'});
    setTimeout(()=>{
      const el=document.getElementById('course_'+found.id);
      if(el){el.scrollIntoView({behavior:'smooth',block:'center'});el.classList.add('highlight');setTimeout(()=>el.classList.remove('highlight'),2500)}
    },400);
    return;
  }
  toast('No matching course found',true);
}

document.getElementById('searchBtn').addEventListener('click',()=>doSearch(document.getElementById('searchInput').value));
document.getElementById('searchInput').addEventListener('keydown',e=>{if(e.key==='Enter')doSearch(document.getElementById('searchInput').value)});

loadCourses();
</script>

<!-- FIREBASE -->
<script type="module">
import{initializeApp}from"https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
import{getAuth,GoogleAuthProvider,signInWithPopup,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,updateProfile}from"https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";
import{getFirestore,doc,setDoc,getDoc,updateDoc,serverTimestamp}from"https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";
const app=initializeApp({apiKey:"AIzaSyDWmliHHP7UR1pmM6CNjY6o_NvF-hYJWpY",authDomain:"minibotix-a1b9a.firebaseapp.com",projectId:"minibotix-a1b9a",storageBucket:"minibotix-a1b9a.firebasestorage.app",messagingSenderId:"771169717230",appId:"1:771169717230:web:44848d73e548d0e0f8dcff"});
const auth=getAuth(app),db=getFirestore(app),gp=new GoogleAuthProvider();
const g=id=>document.getElementById(id);
g('googleSignIn').addEventListener('click',async()=>{try{const r=await signInWithPopup(auth,gp);await setDoc(doc(db,'users',r.user.uid),{name:r.user.displayName,email:r.user.email,photoURL:r.user.photoURL,lastSignIn:serverTimestamp()},{merge:true});document.getElementById('authModal').classList.remove('open');toast('Signed in with Google')}catch(e){toast('Google sign-in failed',true)}});
g('emailSignIn').addEventListener('click',async()=>{try{await signInWithEmailAndPassword(auth,g('loginEmail').value.trim(),g('loginPassword').value);document.getElementById('authModal').classList.remove('open');toast('Signed in')}catch(e){toast('Sign in failed: '+e.message,true)}});
g('createAccount').addEventListener('click',async()=>{const name=g('regName').value.trim(),phone=g('regPhone').value.trim(),email=g('regEmail').value.trim(),pass=g('regPass').value,pass2=g('regPass2').value;if(pass.length<6){toast('Password min 6 chars',true);return}if(pass!==pass2){toast('Passwords do not match',true);return}try{const uc=await createUserWithEmailAndPassword(auth,email,pass);await updateProfile(uc.user,{displayName:name});await setDoc(doc(db,'users',uc.user.uid),{name,phone,email,createdAt:serverTimestamp()});document.getElementById('authModal').classList.remove('open');toast('Account created!')}catch(e){toast('Register failed: '+e.message,true)}});
onAuthStateChanged(auth,async user=>{if(user){const ref=doc(db,'users',user.uid),snap=await getDoc(ref);if(!snap.exists())await setDoc(ref,{name:user.displayName||'',phone:'',email:user.email||'',createdAt:serverTimestamp()});const ud=(await getDoc(ref)).data();g('sou').style.display='none';g('sui').style.display='block';g('pName').textContent=(ud.name||user.email||'User').split(' ')[0];g('pAvatar').src=user.photoURL||'file.svg';g('pfName').value=ud.name||'';g('pfPhone').value=ud.phone||''}else{g('sou').style.display='block';g('sui').style.display='none'}});
g('saveProfile').addEventListener('click',async()=>{const cu=getAuth().currentUser;if(!cu){toast('Not signed in',true);return}const name=g('pfName').value.trim(),phone=g('pfPhone').value.trim();try{await updateDoc(doc(db,'users',cu.uid),{name,phone,updatedAt:serverTimestamp()});await updateProfile(cu,{displayName:name});g('pName').textContent=name.split(' ')[0];document.getElementById('profileModal').classList.remove('open');toast('Profile saved')}catch(e){toast('Save failed: '+e.message,true)}});
g('logoutBtn').addEventListener('click',async()=>{await signOut(getAuth());document.getElementById('profileModal').classList.remove('open');toast('Signed out')});
</script>
</body>
</html>
